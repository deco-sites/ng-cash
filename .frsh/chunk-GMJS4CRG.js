import{a as k,f as y}from"./chunk-IAMGS6YL.js";var f={"data-slider":"data-slider","data-slider-item":"data-slider-item",'data-slide="prev"':'data-slide="prev"','data-slide="next"':'data-slide="next"',"data-dot":"data-dot"},A=.6,D=(s,i)=>{let o=i.width/1e3;return s.right<i.left-o||s.left>i.right+o?0:s.left<i.left-o?s.right-i.left+o:s.right>i.right+o?i.right-s.left+o:s.width},M=s=>typeof s.offsetLeft=="number",R=({rootId:s,scroll:i,interval:o,infinite:u})=>{let d=document.getElementById(s),r=d?.querySelector(`[${f["data-slider"]}]`),l=d?.querySelectorAll(`[${f["data-slider-item"]}]`),g=d?.querySelector(`[${f['data-slide="prev"']}]`),m=d?.querySelector(`[${f['data-slide="next"']}]`),c=d?.querySelectorAll(`[${f["data-dot"]}]`);if(!d||!r||!l||l.length===0){console.warn("Missing necessary slider attributes. It will not work as intended. Necessary elements:",{root:d,slider:r,items:l,rootId:s});return}let p=()=>{let e=[],t=r.getBoundingClientRect();for(let n=0;n<l.length;n++){let S=l.item(n).getBoundingClientRect();D(S,t)/S.width>A&&e.push(n)}return e},h=e=>{let t=l.item(e);if(!M(t)){console.warn(`Element at index ${e} is not an html element. Skipping carousel`);return}r.scrollTo({top:0,behavior:i,left:t.offsetLeft-d.offsetLeft})},L=()=>{let e=p(),t=e.length,n=e[0]===0,a=Math.floor(e[e.length-1]/t);h(n?l.length-1:(a-1)*t)},v=()=>{let e=p(),t=e.length,n=e[e.length-1]===l.length-1,a=Math.floor(e[0]/t);h(n?0:(a+1)*t)},E=new IntersectionObserver(e=>e.forEach(t=>{let n=Number(t.target.getAttribute("data-slider-item"))||0,a=c?.item(n);t.isIntersecting?a?.setAttribute("disabled",""):a?.removeAttribute("disabled"),u||(n===0&&(t.isIntersecting?g?.setAttribute("disabled",""):g?.removeAttribute("disabled")),n===l.length-1&&(t.isIntersecting?m?.setAttribute("disabled",""):m?.removeAttribute("disabled")))}),{threshold:A,root:r});l.forEach(e=>E.observe(e));for(let e=0;e<(c?.length??0);e++)c?.item(e).addEventListener("click",()=>h(e));g?.addEventListener("click",L),m?.addEventListener("click",v);let P=o&&setInterval(v,o),b=!1,x,w,T=function(e){b=!0,x=e.pageX-r.offsetLeft,w=r.scrollLeft},I=function(e){b=!1};return r.addEventListener("mousemove",e=>{if(e.preventDefault(),!b)return;let n=e.pageX-r.offsetLeft-x;r.scrollLeft=w-n}),r.addEventListener("mousedown",T,!1),r.addEventListener("mouseup",I,!1),r.addEventListener("mouseleave",I,!1),()=>{for(let e=0;e<(c?.length??0);e++)c?.item(e).removeEventListener("click",()=>h(e));g?.removeEventListener("click",L),m?.removeEventListener("click",v),E.disconnect(),clearInterval(P)}};function $({rootId:s,scroll:i="smooth",interval:o,infinite:u=!1}){return k(()=>R({rootId:s,scroll:i,interval:o,infinite:u}),[s,i,o,u]),y("div",{"data-slider-controller-js":!0})}var q=$;export{q as a};
